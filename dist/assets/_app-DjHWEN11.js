import{r as i,R as p,j as o,Q as O,q as R,O as h}from"./client-Cohd0s-V.js";import{C as v,N as E}from"./Navigation-CRfqHYFO.js";import"./button-ChIMJgpe.js";import"./index-CtKhhn2-.js";import"./utils-DvkvUfV5.js";import"./createLucideIcon-Djzpup-l.js";import"./index-4PomGbPO.js";const b=i.createContext(void 0);function g({children:l,initialProfileSettings:a,initialSupabaseResponse:x=null}){const[c,r]=i.useState(a),[m,u]=i.useOptimistic(c,(s,e)=>({...s,[e.settingType]:{...s[e.settingType],[e.fieldName]:e.value}})),[t,j]=i.useState(x);i.useEffect(()=>{r(a)},[a]),i.useEffect(()=>{t&&t.data&&t.data.settings&&(r(t.data.settings),u(t.data.settings))},[t]);const[S,C]=i.useTransition(),d=p.useCallback((s,e,f)=>{C(()=>{u(n=>({...n,[s]:{...n[s],[e]:f}})),r(n=>({...n,[s]:{...n[s],[e]:f}}))})},[u,r]),P=p.useMemo(()=>({currentProfileSettings:c,optimisticProfileSettings:m,updateProfileSetting:d,setCurrentProfileSettings:r,setSupabaseResponse:j,supabaseResponse:t}),[c,m,d,t]);return o.jsx(b.Provider,{value:P,children:l})}const T=function(){return o.jsx(p.StrictMode,{children:o.jsx(O,{client:R,children:o.jsx(g,{children:o.jsxs(v,{children:[o.jsx(E,{}),o.jsx(h,{})]})})})})};export{T as component};
