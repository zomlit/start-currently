import{C as c,D as h,r as l,j as e}from"./client-Ddpp9KjH.js";const C=function(){const{productId:o}=c.useParams(),{frequency:t}=c.useSearch(),{userId:n,user:a}=h(),[s,u]=l.useState(""),i=async()=>{try{const r=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:o,frequency:t,userId:n,userEmail:a?.primaryEmailAddress?.emailAddress})});if(!r.ok)throw new Error("Checkout failed");const d=await r.json();console.log("Checkout successful:",d)}catch(r){u("An error occurred during checkout. Please try again."),console.error("Checkout error:",r)}};return e.jsxs("div",{children:[e.jsxs("h1",{children:["Checkout for Product ",o]}),e.jsxs("p",{children:["Frequency: ",t]}),s&&e.jsx("p",{className:"text-red-500",children:s}),e.jsx("button",{onClick:i,children:"Complete Checkout"})]})};export{C as component};
